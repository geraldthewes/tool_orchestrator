{"question": "Review this function for bugs: def add(a, b): return a - b", "answer": "Bug found: The function is named 'add' but performs subtraction. Should use '+' instead of '-'.", "expected_keywords": ["bug", "subtraction", "+"], "tool": "ask_coder", "category": "delegate"}
{"question": "Is this code thread-safe? counter = 0; def increment(): global counter; counter += 1", "answer": "Not thread-safe. The increment operation is not atomic. Use locks or atomic operations.", "expected_keywords": ["thread", "safe", "atomic", "lock"], "tool": "ask_coder", "category": "delegate"}
{"question": "Review this SQL for injection vulnerabilities: query = f'SELECT * FROM users WHERE id = {user_id}'", "answer": "SQL injection vulnerability. Use parameterized queries instead of string formatting.", "expected_keywords": ["SQL", "injection", "parameterized"], "tool": "ask_coder", "category": "delegate"}
{"question": "Check this Python code for issues: with open('file.txt') as f: data = f.read(); return data", "answer": "Syntax error: 'return' cannot be used outside a function. Also consider error handling for file operations.", "expected_keywords": ["return", "function", "error"], "tool": "ask_coder", "category": "delegate"}
{"question": "Why might this code cause a memory leak: while True: data.append(fetch_data())", "answer": "The list grows indefinitely without clearing. Data is never removed, causing memory exhaustion.", "expected_keywords": ["memory", "leak", "grows", "clear"], "tool": "ask_coder", "category": "delegate"}
{"question": "Debug: for i in range(len(lst)): if lst[i] == target: lst.remove(lst[i])", "answer": "Modifying list while iterating causes index issues. Use list comprehension or iterate backwards.", "expected_keywords": ["modify", "iterate", "index"], "tool": "ask_coder", "category": "delegate"}
{"question": "Why does this return None: def greet(name): print(f'Hello {name}')", "answer": "The function uses 'print' instead of 'return'. Print outputs to console but returns None.", "expected_keywords": ["print", "return", "None"], "tool": "ask_coder", "category": "delegate"}
{"question": "Write a Python decorator that logs function execution time", "answer": "A decorator using functools.wraps that records start time, calls function, calculates duration, and logs it.", "expected_keywords": ["decorator", "time", "functools", "log"], "tool": "ask_coder", "category": "delegate"}
{"question": "Create a Python context manager for database transactions", "answer": "A context manager that begins transaction on __enter__, commits on success, and rolls back on exception.", "expected_keywords": ["context", "manager", "commit", "rollback"], "tool": "ask_coder", "category": "delegate"}
{"question": "Write a retry decorator with exponential backoff", "answer": "A decorator that catches exceptions, waits with exponential delay, and retries up to a max count.", "expected_keywords": ["retry", "exponential", "backoff", "exception"], "tool": "ask_coder", "category": "delegate"}
