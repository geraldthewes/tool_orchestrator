owner: code-agent
repo_url: https://github.com/geraldthewes/tool_orchestrator.git
git_ref: main
dockerfile_path: Dockerfile
image_name: tool-orchestrator
image_tags:
  - latest
registry_url: registry.cluster:5000

test:
  entry_point: false
  gpu_required: false
  env:
    CONSUL_HTTP_ADDR: "http://consul.service.consul:8500"
  python_cwd: "."
  python_command: "echo http://$SERVICE_HOST:$SERVICE_PORT > /tmp/service_url.txt && python-executor run --network --file /tmp/service_url.txt tests/integration/test_smoke.py"
  container_port: 8000

resource_limits:
  build:
    cpu: "2000"
    memory: "4096"
    disk: "10240"
  test:
    cpu: "2000"
    memory: "2048"
    disk: "5120"
